{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\nz111\\\\kursovo-zadanie\\\\EventEditForm.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\nimport { formatDate } from \"./util\";\nimport { editEvent, getEventById } from \"./EventService\";\n\nvar EventEditForm = function (_Component) {\n  _inherits(EventEditForm, _Component);\n\n  var _super = _createSuper(EventEditForm);\n\n  function EventEditForm() {\n    var _this;\n\n    _classCallCheck(this, EventEditForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      date: Date.now(),\n      showDatePicker: false\n    };\n\n    _this.handleChangeName = function (value) {\n      _this.setState({\n        name: value\n      });\n    };\n\n    _this.handleChangeDestination = function (value) {\n      _this.setState({\n        destination: value\n      });\n    };\n\n    _this.handleChangeDuration = function (value) {\n      _this.setState({\n        duration: value\n      });\n    };\n\n    _this.handleChangeDate = function (value) {\n      _this.setState({\n        date: value\n      });\n    };\n\n    _this.handleChangebuget = function (value) {\n      _this.setState({\n        buget: value\n      });\n    };\n\n    _this.handleChangeDescription = function (value) {\n      _this.setState({\n        description: value\n      });\n    };\n\n    _this.handleDatePress = function () {\n      _this.setState({\n        showDatePicker: true\n      });\n    };\n\n    _this.handleDatePickerHide = function () {\n      _this.setState({\n        showDatePicker: false\n      });\n    };\n\n    _this.handleDatePicked = function (event, selectedDate) {\n      var currentDate = selectedDate || _this.state.date;\n\n      _this.setState({\n        date: currentDate\n      });\n\n      _this.handleDatePickerHide();\n    };\n\n    return _this;\n  }\n\n  _createClass(EventEditForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var eventId = this.props.route.params[\"id\"];\n      getEventById(eventId).then(function (item) {\n        _this2.setState({\n          id: item._id,\n          title: item.title,\n          date: item.date,\n          description: item.description\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }\n      }, React.createElement(TextInput, {\n        style: styles.textInput,\n        placeholder: \"\\u0418\\u043C\\u0435 \\u043D\\u0430 \\u0441\\u043B\\u0443\\u0436\\u0438\\u0442\\u0435\\u043B\\u044F\",\n        value: this.state.name,\n        onChangeText: this.handleChangeName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }), React.createElement(TextInput, {\n        style: styles.textInput,\n        placeholder: \"\\u0414\\u0435\\u0441\\u0442\\u0438\\u043D\\u0430\\u0446\\u0438\\u044F \\u043D\\u0430 \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u0438\\u0440\\u043E\\u0432\\u043A\\u0430\\u0442\\u0430\",\n        value: this.state.destination,\n        onChangeText: this.handleChangeDestination,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }\n      }), React.createElement(TextInput, {\n        style: styles.textInput,\n        placeholder: \"\\u041F\\u0440\\u043E\\u0434\\u044A\\u043B\\u0436\\u0438\\u0442\\u0435\\u043B\\u043D\\u043E\\u0441\\u0442\",\n        value: this.state.duration,\n        onChangeText: this.handleChangeDuration,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }), React.createElement(TextInput, {\n        style: styles.textInput,\n        placeholder: \"\\u041D\\u0430\\u0447\\u0430\\u043B\\u043D\\u0430 \\u0434\\u0430\\u0442\\u0430\",\n        value: this.state.date,\n        onChangeText: this.handleChangeDate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }), React.createElement(TextInput, {\n        style: styles.textInput,\n        placeholder: \"\\u0411\\u044E\\u0434\\u0436\\u0435\\u0442\",\n        value: this.state.buget,\n        onChangeText: this.handleChangebuget,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      }), React.createElement(TextInput, {\n        style: styles.textInput,\n        placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",\n        value: this.state.description,\n        onChangeText: this.handleChangeDescription,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }), this.state.showDatePicker && React.createElement(DateTimePicker, {\n        value: this.state.date,\n        mode: \"datetime\",\n        is24Hour: true,\n        onChange: this.handleDatePicked,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }\n      }), React.createElement(TextInput, {\n        style: styles.textInput,\n        placeholder: \"Event date\",\n        value: formatDate(this.state.date),\n        editable: !this.state.showDatePicker,\n        onFocus: this.handleDatePress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 9\n        }\n      }), React.createElement(Button, {\n        title: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u0430\\u0439\",\n        onPress: function onPress() {\n          editEvent({\n            id: _this3.state.id,\n            title: _this3.state.title,\n            date: formatDate(_this3.state.date),\n            description: _this3.state.description\n          }).then(function () {\n            return _this3.props.navigation.goBack();\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return EventEditForm;\n}(Component);\n\nexport default EventEditForm;\nvar styles = StyleSheet.create({\n  textInput: {\n    backgroundColor: \"white\",\n    padding: 10,\n    marginTop: 10,\n    marginBottom: 10\n  }\n});","map":{"version":3,"sources":["C:/Users/nz111/kursovo-zadanie/EventEditForm.js"],"names":["React","Component","DateTimePicker","formatDate","editEvent","getEventById","EventEditForm","state","date","Date","now","showDatePicker","handleChangeName","value","setState","name","handleChangeDestination","destination","handleChangeDuration","duration","handleChangeDate","handleChangebuget","buget","handleChangeDescription","description","handleDatePress","handleDatePickerHide","handleDatePicked","event","selectedDate","currentDate","eventId","props","route","params","then","item","id","_id","title","styles","textInput","navigation","goBack","StyleSheet","create","backgroundColor","padding","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { View, Button, TextInput, StyleSheet } from \"react-native\";\r\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\r\nimport { formatDate } from \"./util\";\r\n\r\nimport { editEvent, getEventById } from \"./EventService\";\r\n\r\nclass EventEditForm extends Component {\r\n  state = {\r\n    date: Date.now(),\r\n    showDatePicker: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    const eventId = this.props.route.params[\"id\"];\r\n    getEventById(eventId)\r\n    .then(item => {\r\n        this.setState({\r\n            id: item._id,\r\n            title: item.title,\r\n            date: item.date,\r\n            description: item.description\r\n        })\r\n    })\r\n  }\r\n\r\n  handleChangeName = (value) => {\r\n    this.setState({ name: value });\r\n  };\r\n\r\n  handleChangeDestination = (value) => {\r\n    this.setState({ destination: value });\r\n  };\r\n\r\n  handleChangeDuration = (value) => {\r\n    this.setState({ duration: value });\r\n  };\r\n\r\n  handleChangeDate = (value) => {\r\n    this.setState({ date: value });\r\n  };\r\n\r\n  handleChangebuget = (value) => {\r\n    this.setState({ buget: value });\r\n  };\r\n\r\n  handleChangeDescription = (value) => {\r\n    this.setState({ description: value });\r\n  };\r\n\r\n\r\n\r\n  handleDatePress = () => {\r\n    this.setState({ showDatePicker: true });\r\n  };\r\n    handleDatePickerHide = () => {\r\n    this.setState({ showDatePicker: false });\r\n  };\r\n    handleDatePicked = (event, selectedDate) => {\r\n    const currentDate = selectedDate || this.state.date;\r\n    this.setState({ date: currentDate });\r\n    this.handleDatePickerHide();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <View>\r\n        <TextInput\r\n          style={styles.textInput}\r\n          placeholder=\"Име на служителя\"\r\n          value={this.state.name}\r\n          onChangeText={this.handleChangeName}\r\n        />\r\n        <TextInput\r\n          style={styles.textInput}\r\n          placeholder=\"Дестинация на командировката\"\r\n          value={this.state.destination}\r\n          onChangeText={this.handleChangeDestination}\r\n        />\r\n        <TextInput\r\n          style={styles.textInput}\r\n          placeholder=\"Продължителност\"\r\n          value={this.state.duration}\r\n          onChangeText={this.handleChangeDuration}\r\n        />\r\n        <TextInput\r\n          style={styles.textInput}\r\n          placeholder=\"Начална дата\"\r\n          value={this.state.date}\r\n          onChangeText={this.handleChangeDate}\r\n        />\r\n\r\n        <TextInput\r\n          style={styles.textInput}\r\n          placeholder=\"Бюджет\"\r\n          value={this.state.buget}\r\n          onChangeText={this.handleChangebuget}\r\n        />\r\n      \r\n        <TextInput\r\n          style={styles.textInput}\r\n          placeholder=\"Кратко описание\"\r\n          value={this.state.description}\r\n          onChangeText={this.handleChangeDescription}\r\n        />\r\n        \r\n\r\n\r\n\r\n        {this.state.showDatePicker && (\r\n          <DateTimePicker\r\n            value={this.state.date}\r\n            mode=\"datetime\"\r\n            is24Hour={true}\r\n            onChange={this.handleDatePicked}\r\n          />\r\n        )}\r\n\r\n        <TextInput\r\n          style={styles.textInput}\r\n          placeholder=\"Event date\"\r\n          value={formatDate(this.state.date)}\r\n          editable={!this.state.showDatePicker}\r\n          onFocus={this.handleDatePress}\r\n        />\r\n\r\n        <Button\r\n          title=\"Редактирай\"\r\n          onPress={() => {\r\n            editEvent({\r\n              id: this.state.id,\r\n              title: this.state.title,\r\n              date: formatDate(this.state.date),\r\n              description: this.state.description,\r\n            }).then(() => this.props.navigation.goBack());\r\n          }}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n}\r\nexport default EventEditForm;\r\n\r\nconst styles = StyleSheet.create({\r\n  textInput: {\r\n    backgroundColor: \"white\",\r\n    padding: 10,\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}